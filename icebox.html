<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <title>Icebox</title>
  <style>

  </style>
</head>
<body>
  <label>Icebox size: </label> <input id="boxSize" type="number" value="300"/>
  <label>Particles: </label><input id="particlesNum" type="number" value="500"/>
  <button id="button">START</button>
  <div id="icebox"></div>
  <div id="particle"></div>

<script>
const boxSize = document.getElementById("boxSize");
let particles = [];

let displayParticle = () => {
  const particlesNum = document.getElementById("particlesNum");


  for (let i = 0; i < particlesNum.value; i++) {
    const particle = document.createElement("div");
    icebox.appendChild(particle);
    particle.style.height = "10px";
    particle.style.width = "10px";
    particle.style.backgroundColor = "#000";
    particle.style.position = "absolute";
    const size = boxSize.value;
    const x = Math.random() * (size - 10);
    const y = Math.random() * (size - 10);



    particle.style.transform = `translate(${x}px, ${y}px)`;
    particles[i] = particle;
  }
  console.log(particles)
}

let displayIcebox = () => {
  const icebox = document.getElementById("icebox");
  const size = boxSize.value;

  document.body.appendChild(icebox);
  icebox.style.height = `${size}px`;
  icebox.style.width = `${size}px`;
  icebox.style.border = "thick solid #000";
  icebox.style.position = "relative";
}

let clearIcebox = () => {
  for (let i = 0; i < particles.length; i++) {
    let particle = particles[i];
    icebox.removeChild(particle);
  }

  particles = [];
}

const button = document.getElementById("button");
button.addEventListener("click", () => {
  clearIcebox();
  displayIcebox(boxSize.value, particlesNum.value);
  displayParticle();

});

function draw() {
  console.log('draw')
  //przesuń particla w losową stronę (po gridzie) -> Math.random(8 kierunków)
}

setInterval(draw, 1000);

</script>
</body>
</html>
